(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{413:function(e,a,n){"use strict";n.r(a);var t=n(12),r=Object(t.a)({},(function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[n("h2",{attrs:{id:"æ‘˜è¦"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#æ‘˜è¦"}},[e._v("#")]),e._v(" æ‘˜è¦")]),e._v(" "),n("p",[e._v("NAT ä¼šè¯éå†å®ç”¨ç¨‹åºï¼ˆSTUNï¼‰åè®®å®šä¹‰äº†å‡ ä¸ª STUN å±æ€§ã€‚ å…¶ä¸­ä¸€äº›çš„å†…å®¹ - FINGERPRINTï¼ŒMESSAGE-INTEGRITY å’Œ XOR-MAPPED-ADDRESS - æ¶‰åŠäºŒè¿›åˆ¶é€»è¾‘æ“ä½œï¼ˆå“ˆå¸Œï¼Œxorï¼‰ã€‚ æœ¬æ–‡ä¸ºè¿™äº›å±æ€§æä¾›äº†æµ‹è¯•å‘é‡ã€‚")]),e._v(" "),n("h2",{attrs:{id:"ç®€ä»‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ç®€ä»‹"}},[e._v("#")]),e._v(" ç®€ä»‹")]),e._v(" "),n("p",[e._v("è¯¥æ–‡æ¡£æ˜¯å…³äº STUN åè®®çš„æµ‹è¯•å‘é‡ï¼Œå…¶ä¸­ STUN åè®®å®šä¹‰äº†ä¸¤ç§ä¸åŒçš„å“ˆå¸Œï¼Œå¯èƒ½åŒ…å«åœ¨å®ç°è¯¥åè®®çš„å¯¹ç­‰æ–¹äº¤æ¢çš„æ¶ˆæ¯ä¸­ï¼š")]),e._v(" "),n("ul",[n("li",[e._v("FINGERPRINT å±æ€§ï¼š32 ä½å¾ªç¯å†—ä½™æ ¡éªŒã€‚")]),e._v(" "),n("li",[e._v("MESSAGE-INTEGRITY å±æ€§ï¼šHMAC-SHA1 èº«ä»½éªŒè¯ä»£ç ã€‚")])]),e._v(" "),n("p",[e._v("è¯¥æ–‡æ¡£æä¾›äº†åŒ…æ‹¬è¿™äº›å“ˆå¸Œçš„æ­£ç¡®æ ¼å¼çš„ STUN æ¶ˆæ¯æ ·æœ¬ï¼Œä»¥ä¾¿æµ‹è¯• STUN åè®®çš„å®ç°ã€‚")]),e._v(" "),n("h2",{attrs:{id:"å‘é‡æµ‹è¯•"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#å‘é‡æµ‹è¯•"}},[e._v("#")]),e._v(" å‘é‡æµ‹è¯•")]),e._v(" "),n("p",[e._v("è¯¥æ–‡æ¡£æä¾›äº†ä¸€ç³»åˆ—åå…­è¿›åˆ¶å€¼çš„æµ‹è¯•å‘é‡ï¼Œæ¯å¯¹åå…­è¿›åˆ¶æ•°å­—è¡¨ç¤ºä¸€ä¸ªå­—èŠ‚ï¼Œä»¥ç½‘ç»œå­—èŠ‚é¡ºåºè¡¨ç¤ºã€‚è¿™äº›æµ‹è¯•å‘é‡æ˜¯ç”¨äºæµ‹è¯• STUN åè®®å®ç°çš„ï¼Œå…¶ä¸­åŒ…æ‹¬äº† Interactive Connectivity Establishment (ICE)è¿æ¥æ£€æŸ¥ç”¨ä¾‹ã€‚è¿™äº›æ¶ˆæ¯åŒ…æ‹¬ FINGERPRINTã€MESSAGE-INTEGRITY å’Œ XOR-MAPPED-ADDRESS STUN å±æ€§ï¼Œè¿™äº›å±æ€§è¢«è®¤ä¸ºæ˜¯æœ€å®¹æ˜“å‡ºç°å®ç°é”™è¯¯çš„ã€‚æ­¤å¤–ï¼Œè¯¥æ–‡æ¡£è¿˜æä¾›äº†å¦ä¸€æ¡æ¶ˆæ¯ï¼Œç”¨äºæµ‹è¯•ä½¿ç”¨é•¿æœŸå‡­æ®è¿›è¡Œ STUN èº«ä»½éªŒè¯ï¼ˆICE ä¸ä½¿ç”¨æ­¤åŠŸèƒ½ï¼‰ã€‚")]),e._v(" "),n("p",[e._v("åœ¨ä»¥ä¸‹ç¤ºä¾‹æ¶ˆæ¯ä¸­ï¼ŒåŒ…æ‹¬äº†ä¸¤ç§çº¯æ–‡æœ¬å±æ€§ã€‚å…¶ä¸­æŸäº›å±æ€§çš„å€¼è¢«æ•…æ„è®¾ç½®ä¸ºéœ€è¦å¡«å……çš„å¤§å°ã€‚é ASCII å­—ç¬¦è¡¨ç¤ºä¸º<U+xxxx>ï¼Œå…¶ä¸­ xxxx æ˜¯å…¶ Unicode ä»£ç ç‚¹çš„åå…­è¿›åˆ¶æ•°ã€‚")]),e._v(" "),n("p",[e._v("åœ¨æœ¬æ–‡æ¡£ä¸­ï¼ŒASCII ç©ºæ ¼ï¼ˆU+0020ï¼‰ç”¨äºå¡«å……å‰ä¸‰ä¸ªæ¶ˆæ¯ï¼Œè¿™æ˜¯ä»»æ„çš„ã€‚åŒæ ·ï¼Œæœ€åä¸€ä¸ªæ¶ˆæ¯ä½¿ç”¨ç©ºå­—èŠ‚è¿›è¡Œå¡«å……ã€‚æ ¹æ®[RFC5389]ï¼Œå¡«å……å­—èŠ‚å¯ä»¥é‡‡ç”¨ä»»ä½•å€¼ã€‚")]),e._v(" "),n("h3",{attrs:{id:"è¯·æ±‚ç¤ºä¾‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#è¯·æ±‚ç¤ºä¾‹"}},[e._v("#")]),e._v(" è¯·æ±‚ç¤ºä¾‹")]),e._v(" "),n("p",[e._v("è¯¥æ–‡æ¡£ä¸­çš„å†…å®¹æ˜¯ä¸€ä¸ª STUN è¯·æ±‚çš„ç¤ºä¾‹ï¼Œå…¶ä¸­åŒ…æ‹¬äº†ä½¿ç”¨çš„å‚æ•°ã€‚è¯¥è¯·æ±‚ä½¿ç”¨äº†ä»¥ä¸‹å‚æ•°ï¼š")]),e._v(" "),n("ul",[n("li",[e._v('è½¯ä»¶åç§°ï¼š "STUN æµ‹è¯•å®¢æˆ·ç«¯"ï¼ˆä¸å¸¦å¼•å·ï¼‰')]),e._v(" "),n("li",[e._v('ç”¨æˆ·åï¼š "evtj:h6vY"ï¼ˆä¸å¸¦å¼•å·ï¼‰')]),e._v(" "),n("li",[e._v('å¯†ç ï¼š "VOkJxbRl1RmTxUk/WvJxBt"ï¼ˆä¸å¸¦å¼•å·ï¼‰')])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("          00 01 00 58     Request type and message length\n          21 12 a4 42     Magic cookie\n          b7 e7 a7 01  }\n          bc 34 d6 86  }  Transaction ID\n          fa 87 df ae  }\n          80 22 00 10     SOFTWARE attribute header\n          53 54 55 4e  }\n          20 74 65 73  }  User-agent...\n          74 20 63 6c  }  ...name\n          69 65 6e 74  }\n          00 24 00 04     PRIORITY attribute header\n          6e 00 01 ff     ICE priority value\n          80 29 00 08     ICE-CONTROLLED attribute header\n          93 2f f9 b1  }  Pseudo-random tie breaker...\n          51 26 3b 36  }   ...for ICE control\n          00 06 00 09     USERNAME attribute header\n          65 76 74 6a  }\n          3a 68 36 76  }  Username (9 bytes) and padding (3 bytes)\n          59 20 20 20  }\n          00 08 00 14     MESSAGE-INTEGRITY attribute header\n          9a ea a7 0c  }\n          bf d8 cb 56  }\n          78 1e f2 b5  }  HMAC-SHA1 fingerprint\n          b2 d3 f2 49  }\n          c1 b5 71 a2  }\n          80 28 00 04     FINGERPRINT attribute header\n          e5 7a 3b cf     CRC32 fingerprint\n")])])]),n("h3",{attrs:{id:"ipv4-å“åº”ç¤ºä¾‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#ipv4-å“åº”ç¤ºä¾‹"}},[e._v("#")]),e._v(" iPv4 å“åº”ç¤ºä¾‹")]),e._v(" "),n("p",[e._v("è¯¥æ–‡æ¡£ä¸­çš„å†…å®¹æ˜¯ä¸€ä¸ª STUN å“åº”çš„ç¤ºä¾‹ï¼Œå…¶ä¸­åŒ…æ‹¬äº†ä½¿ç”¨çš„å‚æ•°ã€‚è¯¥å“åº”ä½¿ç”¨äº†ä»¥ä¸‹å‚æ•°ï¼š")]),e._v(" "),n("ul",[n("li",[e._v('å¯†ç ï¼š "VOkJxbRl1RmTxUk/WvJxBt"ï¼ˆä¸å¸¦å¼•å·ï¼‰')]),e._v(" "),n("li",[e._v('è½¯ä»¶åç§°ï¼š "æµ‹è¯•å‘é‡"ï¼ˆä¸å¸¦å¼•å·ï¼‰')]),e._v(" "),n("li",[e._v("æ˜ å°„åœ°å€ï¼š192.0.2.1 ç«¯å£ 32853")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("     01 01 00 3c     Response type and message length\n     21 12 a4 42     Magic cookie\n     b7 e7 a7 01  }\n     bc 34 d6 86  }  Transaction ID\n     fa 87 df ae  }\n     80 22 00 0b     SOFTWARE attribute header\n     74 65 73 74  }\n     20 76 65 63  }  UTF-8 server name\n     74 6f 72 20  }\n     00 20 00 08     XOR-MAPPED-ADDRESS attribute header\n     00 01 a1 47     Address family (IPv4) and xor'd mapped port number\n     e1 12 a6 43     Xor'd mapped IPv4 address\n     00 08 00 14     MESSAGE-INTEGRITY attribute header\n     2b 91 f5 99  }\n     fd 9e 90 c3  }\n     8c 74 89 f9  }  HMAC-SHA1 fingerprint\n     2a f9 ba 53  }\n     f0 6b e7 d7  }\n     80 28 00 04     FINGERPRINT attribute header\n     c0 7d 4c 96     CRC32 fingerprint\n")])])]),n("p",[e._v("2.3. IPv6 å“åº”ç¤ºä¾‹")]),e._v(" "),n("p",[e._v("è¯¥æ–‡æ¡£ä¸­çš„å†…å®¹æ˜¯ä¸€ä¸ª STUN å“åº”çš„ç¤ºä¾‹ï¼Œå…¶ä¸­åŒ…æ‹¬äº†ä½¿ç”¨çš„å‚æ•°ã€‚è¯¥å“åº”ä½¿ç”¨äº†ä»¥ä¸‹å‚æ•°ï¼š")]),e._v(" "),n("ul",[n("li",[e._v('å¯†ç ï¼š "VOkJxbRl1RmTxUk/WvJxBt"ï¼ˆä¸å¸¦å¼•å·ï¼‰')]),e._v(" "),n("li",[e._v('è½¯ä»¶åç§°ï¼š "æµ‹è¯•å‘é‡"ï¼ˆä¸å¸¦å¼•å·ï¼‰')]),e._v(" "),n("li",[e._v("æ˜ å°„åœ°å€ï¼š2001:db8ğŸ”¢5678:11:2233:4455:6677 ç«¯å£ 32853")])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("  01 01 00 48 Response type and message length\n  21 12 a4 42 Magic cookie\n  b7 e7 a7 01 }\n  bc 34 d6 86 } Transaction ID\n  fa 87 df ae }\n  80 22 00 0b SOFTWARE attribute header\n  74 65 73 74 }\n  20 76 65 63 } UTF-8 server name\n  74 6f 72 20 }\n  00 20 00 14 XOR-MAPPED-ADDRESS attribute header\n  00 02 a1 47 Address family (IPv6) and xor'd mapped port number\n  01 13 a9 fa }\n  a5 d3 f1 79 } Xor'd mapped IPv6 address\n  bc 25 f4 b5 }\n  be d2 b9 d9 }\n  00 08 00 14 MESSAGE-INTEGRITY attribute header\n  a3 82 95 4e }\n  4b e6 7b f1 }\n  17 84 c9 7c } HMAC-SHA1 fingerprint\n  82 92 c2 75 }\n  bf e3 ed 41 }\n  80 28 00 04 FINGERPRINT attribute header\n  c8 fb 0b 4c CRC32 fingerprint\n")])])]),n("h3",{attrs:{id:"é•¿æœŸèº«ä»½éªŒè¯çš„è¯·æ±‚ç¤ºä¾‹"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#é•¿æœŸèº«ä»½éªŒè¯çš„è¯·æ±‚ç¤ºä¾‹"}},[e._v("#")]),e._v(" é•¿æœŸèº«ä»½éªŒè¯çš„è¯·æ±‚ç¤ºä¾‹")]),e._v(" "),n("p",[e._v("è¯¥æ–‡æ¡£ä¸­çš„å†…å®¹æ˜¯ä¸€ä¸ª STUN è¯·æ±‚çš„ç¤ºä¾‹ï¼Œå…¶ä¸­åŒ…æ‹¬äº†ä½¿ç”¨çš„å‚æ•°ã€‚è¯¥è¯·æ±‚ä½¿ç”¨äº†ä»¥ä¸‹å‚æ•°ï¼š")]),e._v(" "),n("ul",[n("li",[e._v('ç”¨æˆ·åï¼š "<U+30DE><U+30C8><U+30EA><U+30C3><U+30AF><U+30B9>"ï¼ˆä¸å¸¦å¼•å·ï¼‰ï¼Œæœªå— SASLprep [RFC4013]å¤„ç†çš„å½±å“ã€‚')]),e._v(" "),n("li",[e._v('å¯†ç ï¼š "The<U+00AD>M<U+00AA>tr<U+2168>" å’Œ "TheMatrIX"ï¼ˆä¸å¸¦å¼•å·ï¼‰ï¼Œåˆ†åˆ«åœ¨ SASLprep å¤„ç†å‰å’Œå¤„ç†åã€‚')]),e._v(" "),n("li",[e._v('éšæœºæ•°ï¼š "f//499k954d6OL34oL9FSTvy64sA"ï¼ˆä¸å¸¦å¼•å·ï¼‰')]),e._v(" "),n("li",[e._v('é¢†åŸŸï¼š "example.org"ï¼ˆä¸å¸¦å¼•å·ï¼‰')])]),e._v(" "),n("div",{staticClass:"language- extra-class"},[n("pre",{pre:!0,attrs:{class:"language-text"}},[n("code",[e._v("      00 01 00 60     Request type and message length\n      21 12 a4 42     Magic cookie\n      78 ad 34 33  }\n      c6 ad 72 c0  }  Transaction ID\n      29 da 41 2e  }\n      00 06 00 12     USERNAME attribute header\n      e3 83 9e e3  }\n      83 88 e3 83  }\n      aa e3 83 83  }  Username value (18 bytes) and padding (2 bytes)\n      e3 82 af e3  }\n      82 b9 00 00  }\n      00 15 00 1c     NONCE attribute header\n      66 2f 2f 34  }\n      39 39 6b 39  }\n      35 34 64 36  }\n      4f 4c 33 34  }  Nonce value\n      6f 4c 39 46  }\n      53 54 76 79  }\n      36 34 73 41  }\n      00 14 00 0b     REALM attribute header\n      65 78 61 6d  }\n      70 6c 65 2e  }  Realm value (11 bytes) and padding (1 byte)\n      6f 72 67 00  }\n      00 08 00 14     MESSAGE-INTEGRITY attribute header\n      f6 70 24 65  }\n      6d d6 4a 3e  }\n      02 b8 e0 71  }  HMAC-SHA1 fingerprint\n      2e 85 c9 a2  }\n      8c a8 96 66  }\n")])])])])}),[],!1,null,null,null);a.default=r.exports}}]);